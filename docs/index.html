<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1">
    <title></title>
    <style>
div {
  background-color: yellow;
}
canvas {
  background-color: aqua;
}
    </style>
  </head>
  <body>
    <div id="a">a</div>
    <div id="b">b</div>
    <div id="c">c</div>
    <div id="d">d</div>
    <div id="e">e</div>
    <div id="f">f</div>
    <div id="g">g</div>
    <div id="h">h</div>
    <div id="i">i</div>
    <canvas class="canvas" id="canvas" width="50" height="50"></canvas>
    <pre id="result"></pre>
    <script>

//

const SingleTouchFromMouse = class {
  #typedUniqueValues
  constructor() {
    //
  }
  add(target) {
    return
  }
  clear() {}
  remove(targetOr) {}
  start() {}
  stop() {}
}
const SingleTouchFromTouch = class {}

const result = document.getElementById('result')

const mouse = {
  target: null,
  handleEvent(event) {
    const button = event.button
    const type = event.type
    //if (button) return
    if (type === 'drag') {
      result.innerText += 'drag\n'
    }
    if (type === 'dragend') {
      result.innerText += 'dragend\n'
    }
    if (type === 'dragstart') {
      result.innerText += 'dragstart\n'
    }
    if (type === 'mousedown') {
      (this.target = event.target) && (result.innerText += 'mousedown\n')
    }
    if (type === 'mousemove') {
      this.target && (result.innerText += 'mousemove\n')
    }
    if (type === 'mouseup') {
      this.target && (result.innerText += 'mouseup\n')
      this.target = null
    }
  }
}
addEventListener('drag', mouse)
addEventListener('dragend', mouse)
addEventListener('dragstart', mouse)
addEventListener('mousedown', mouse)
addEventListener('mousemove', mouse)
addEventListener('mouseup', mouse)

const touch = {
  target: null,
  handleEvent(event) {
    const button = event.button
    const type = event.type
    //if (button) return
    if (type === 'touchstart') {
      ;(this.target = event.target) && (result.innerText += 'touchstart\n')
    }
    if (type === 'touchmove') {
      this.target && (result.innerText += 'touchmove\n')
    }
    if (type === 'touchend') {
      this.target && (result.innerText += 'touchend\n')
      this.target = null
    }
    if (type === 'touchcancel') {
      this.target && (result.innerText += 'touchcancel\n')
      this.target = null
    }
  }
}
addEventListener('touchcancel', touch)
addEventListener('touchend', touch)
addEventListener('touchmove', touch)
addEventListener('touchstart', touch)



//let target = null
//addEventListener('mousedown', event => { target = event.target, console.log('start') })
//addEventListener('mousemove', event => { target && console.log('move') })
//addEventListener('mouseup', event => { target && console.log('end'), target = null })

//

    </script>
  </body>
</html>
